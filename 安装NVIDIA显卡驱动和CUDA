# Check if you have NVIDIA cards in your computer
lspci | grep -i nvidia

# Install some necessary software packages
yum -y install gcc gcc-g++ kernel-devel "kernel-devel-uname-r == $(uname -r)"

# Disable the nouveau module
echo -e "blacklist nouveau\noptions nouveau modeset=0" > /etc/modprobe.d/blacklist.conf
mv /boot/initramfs-$(uname -r).img /boot/initramfs-$(uname -r).img.bak
dracut /boot/initramfs-$(uname -r).img $(uname -r)

# Check the nouveau module has been successfully disabled or not
lsmod | grep nouveau # If nothing appear, down!

# Enter command line mode and reboot
systemctl set-default multi-user.target
reboot

# Try to install NVIDIA driver
chmod -R 777 NVIDIA-Linux-x86_64-xxx.run # Grant executable rights
sh NVIDIA-Linux-x86_64-xxx.run # If there is no error, the installation is successful
systemctl set-default graphical.target # Enter graphical mode
reboot
